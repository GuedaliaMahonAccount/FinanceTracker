<Window x:Class="Finance.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:Finance"
        xmlns:loc="clr-namespace:Finance.Localization"
        Title="Settings"
        Height="600"
        Width="900"
        WindowStartupLocation="CenterScreen"
        Background="Transparent"
        WindowStyle="None"
        AllowsTransparency="True">

    <Window.Resources>
        <SolidColorBrush x:Key="PrimaryColor" Color="#2563EB"/>
        <SolidColorBrush x:Key="AccentColor" Color="#10B981"/>
        <SolidColorBrush x:Key="CardBackground" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="TextPrimary" Color="#1F2937"/>
        <SolidColorBrush x:Key="TextSecondary" Color="#6B7280"/>
        <SolidColorBrush x:Key="InputBackground" Color="#F9FAFB"/>
        <SolidColorBrush x:Key="BorderColor" Color="#E5E7EB"/>
    </Window.Resources>

    <Border Background="#F5F7FA" CornerRadius="12" BorderThickness="0">
        <DockPanel>
            <!-- Sidebar -->
            <Border DockPanel.Dock="Left" Width="250" Background="#FFFFFF" CornerRadius="12,0,0,12"
                    BorderThickness="0,0,1,0" BorderBrush="{StaticResource BorderColor}">
                <local:SideBar />
            </Border>

            <!-- Main Content -->
            <Grid Background="#F5F7FA">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="40">
                        <!-- Header -->
                        <TextBlock Text="{loc:Translate Settings.Title}" 
                                   FontSize="32" FontWeight="Bold"
                                   Foreground="{StaticResource TextPrimary}" Margin="0,0,0,10"/>
                        <TextBlock Text="{loc:Translate Settings.Subtitle}" 
                                   FontSize="14"
                                   Foreground="{StaticResource TextSecondary}" Margin="0,0,0,35"/>

                        <!-- Language -->
                        <Border Background="{StaticResource CardBackground}" CornerRadius="8"
                                Padding="24" Margin="0,0,0,20" BorderThickness="1" BorderBrush="{StaticResource BorderColor}">
                            <StackPanel>
                                <Grid Margin="0,0,0,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="15"/>
                                        <ColumnDefinition Width="250"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Title + Description -->
                                    <StackPanel Grid.Column="0">
                                        <TextBlock Text="{loc:Translate Settings.PreferredLanguage}" 
                                                   FontSize="16" FontWeight="Bold"
                                                   Foreground="{StaticResource TextPrimary}" Margin="0,0,0,4"/>
                                        <TextBlock Text="{loc:Translate Settings.LanguageDesc}"
                                                   FontSize="13" Foreground="{StaticResource TextSecondary}"/>
                                    </StackPanel>

                                    <!-- ComboBox -->
                                    <Border Grid.Column="2"
                                            Background="{StaticResource InputBackground}"
                                            BorderBrush="{StaticResource BorderColor}"
                                            BorderThickness="1"
                                            CornerRadius="4">
                                        <ComboBox x:Name="LanguageComboBox"
                                                  Padding="12,10"
                                                  FontSize="13"
                                                  Background="Transparent"
                                                  BorderThickness="0"
                                                  SelectedValue="{Binding PreferredLanguage, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                  SelectedValuePath="Tag"
                                                  DisplayMemberPath="Content"
                                                  VerticalAlignment="Center">
                                            <ComboBoxItem Content="French" Tag="Fran?ais"/>
                                            <ComboBoxItem Content="English" Tag="Anglais"/>
                                            <ComboBoxItem Content="Hebrew" Tag="H?breu"/>
                                        </ComboBox>
                                    </Border>
                                </Grid>
                            </StackPanel>
                        </Border>

                        <!-- Currency -->
                        <Border Background="{StaticResource CardBackground}" CornerRadius="8"
                                Padding="24" Margin="0,0,0,20" BorderThickness="1" BorderBrush="{StaticResource BorderColor}">
                            <StackPanel>
                                <Grid Margin="0,0,0,10">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="15"/>
                                        <ColumnDefinition Width="250"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Title + Description -->
                                    <StackPanel Grid.Column="0">
                                        <TextBlock Text="{loc:Translate Settings.PreferredCurrency}" 
                                                   FontSize="16" FontWeight="Bold"
                                                   Foreground="{StaticResource TextPrimary}" Margin="0,0,0,4"/>
                                        <TextBlock Text="{loc:Translate Settings.CurrencyDesc}"
                                                   FontSize="13" Foreground="{StaticResource TextSecondary}"/>
                                    </StackPanel>

                                    <!-- ComboBox -->
                                    <Border Grid.Column="2"
                                            Background="{StaticResource InputBackground}"
                                            BorderBrush="{StaticResource BorderColor}"
                                            BorderThickness="1"
                                            CornerRadius="4">
                                        <ComboBox x:Name="CurrencyComboBox"
                                                  Padding="12,10"
                                                  FontSize="13"
                                                  Background="Transparent"
                                                  BorderThickness="0"
                                                  SelectedValue="{Binding PreferredCurrency, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                  SelectedValuePath="Tag"
                                                  DisplayMemberPath="Content"
                                                  VerticalAlignment="Center">
                                            <ComboBoxItem Content="&#8362; Shekel" Tag="ILS"/>
                                            <ComboBoxItem Content="$ Dollar" Tag="USD"/>
                                            <ComboBoxItem Content="&#8364; Euro" Tag="EUR"/>
                                        </ComboBox>
                                    </Border>
                                </Grid>
                            </StackPanel>
                        </Border>

                        <!-- Appearance -->
                        <Border Background="{StaticResource CardBackground}" CornerRadius="8"
                                Padding="24" Margin="0,0,0,30" BorderThickness="1" BorderBrush="{StaticResource BorderColor}">
                            <StackPanel>
                                <TextBlock Text="{loc:Translate Settings.Appearance}" 
                                           FontSize="16" FontWeight="Bold"
                                           Foreground="{StaticResource TextPrimary}" Margin="0,0,0,15"/>

                                <StackPanel>
                                    <CheckBox Content="{loc:Translate Settings.DarkMode}"
                                              Foreground="{StaticResource TextPrimary}"
                                              FontSize="13"
                                              Cursor="Hand"
                                              Margin="0,0,0,12"/>
                                    <CheckBox Content="{loc:Translate Settings.Notifications}"
                                              IsChecked="True"
                                              Foreground="{StaticResource TextPrimary}"
                                              FontSize="13"
                                              Cursor="Hand"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>

                        <!-- Actions -->
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                            <Border CornerRadius="4" Margin="0,0,12,0">
                                <Button Content="{loc:Translate Common.Cancel}"
                                        Padding="20,12"
                                        FontSize="13"
                                        Background="#F3F4F6"
                                        Foreground="{StaticResource TextPrimary}"
                                        BorderThickness="0"
                                        Width="120"
                                        Click="CancelButton_Click"/>
                            </Border>
                            <Border CornerRadius="4">
                                <Button Content="{loc:Translate Common.Save}"
                                        Padding="20,12"
                                        FontSize="13"
                                        FontWeight="Bold"
                                        Background="{StaticResource PrimaryColor}"
                                        Foreground="White"
                                        BorderThickness="0"
                                        Width="140"
                                        Click="SaveButton_Click"/>
                            </Border>
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
            </Grid>
        </DockPanel>
    </Border>
</Window>
