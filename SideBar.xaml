<UserControl x:Class="Finance.SideBar"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:loc="clr-namespace:Finance.Localization"
             Height="Auto" 
             Width="250"
             Background="Transparent">

    <UserControl.Resources>
        <SolidColorBrush x:Key="PrimaryColor" Color="#2563EB"/>
        <SolidColorBrush x:Key="AccentColor" Color="#10B981"/>
        <SolidColorBrush x:Key="SidebarBackground" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="TextPrimary" Color="#1F2937"/>
        <SolidColorBrush x:Key="TextSecondary" Color="#6B7280"/>
        <SolidColorBrush x:Key="HoverBackground" Color="#F3F4F6"/>
        <SolidColorBrush x:Key="BorderColor" Color="#E5E7EB"/>
        <SolidColorBrush x:Key="DangerColor" Color="#EF4444"/>
    </UserControl.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
        <StackPanel Background="{StaticResource SidebarBackground}">
            <!-- Logo/Branding -->
            <Border Padding="20" BorderThickness="0,0,0,1" BorderBrush="{StaticResource BorderColor}">
                <Grid>
                    <StackPanel>
                        <TextBlock Text="💰" FontSize="32" Margin="0,0,0,10" TextAlignment="Center"/>
                        <TextBlock Text="{loc:Translate App.Title}" 
                                   FontSize="18" 
                                   FontWeight="Bold" 
                                   Foreground="{StaticResource TextPrimary}"
                                   TextAlignment="Center"
                                   Margin="0,0,0,4"/>
                        <TextBlock Text="{loc:Translate App.Manager}" 
                                   FontSize="11" 
                                   Foreground="{StaticResource TextSecondary}"
                                   TextAlignment="Center"/>
                    </StackPanel>
                    
                    <Button x:Name="CloseAppButton"
                            Content="✖"
                            Width="32"
                            Height="32"
                            FontSize="16"
                            FontWeight="Bold"
                            Foreground="{StaticResource TextSecondary}"
                            Background="Transparent"
                            BorderThickness="0"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Top"
                            Cursor="Hand"
                            ToolTip="{loc:Translate Common.Close}"
                            Click="CloseAppButton_Click">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}" 
                                        CornerRadius="6"
                                        Width="{TemplateBinding Width}"
                                        Height="{TemplateBinding Height}">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#FEE2E2"/>
                                        <Setter Property="Foreground" Value="{StaticResource DangerColor}"/>
                                    </Trigger>
                                    <Trigger Property="IsPressed" Value="True">
                                        <Setter Property="Background" Value="{StaticResource DangerColor}"/>
                                        <Setter Property="Foreground" Value="White"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </Grid>
            </Border>

            <Grid Height="20"/>

            <StackPanel Margin="12">
                <Button x:Name="HomeButton"
                        Content="{loc:Translate Menu.Home}" 
                        Padding="12,12" 
                        FontSize="13"
                        FontWeight="SemiBold"
                        Foreground="{StaticResource TextPrimary}"
                        Background="Transparent"
                        BorderThickness="0"
                        HorizontalContentAlignment="Left"
                        Cursor="Hand"
                        Click="HomeButton_Click"
                        Margin="0,0,0,8">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" 
                                    CornerRadius="6"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Left" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="{StaticResource HoverBackground}"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter Property="Background" Value="{StaticResource PrimaryColor}"/>
                                    <Setter Property="Foreground" Value="White"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>

                <Button x:Name="ProjectsButton"
                        Content="{loc:Translate Menu.Projects}" 
                        Padding="12,12" 
                        FontSize="13"
                        FontWeight="SemiBold"
                        Foreground="{StaticResource TextPrimary}"
                        Background="Transparent"
                        BorderThickness="0"
                        HorizontalContentAlignment="Left"
                        Cursor="Hand"
                        Click="ProjectsButton_Click"
                        Margin="0,0,0,8">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" 
                                    CornerRadius="6"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Left" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="{StaticResource HoverBackground}"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter Property="Background" Value="{StaticResource AccentColor}"/>
                                    <Setter Property="Foreground" Value="White"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>

                <Button x:Name="TransactionsButton"
                        Content="{loc:Translate Menu.Transactions}" 
                        Padding="12,12" 
                        FontSize="13"
                        FontWeight="SemiBold"
                        Foreground="{StaticResource TextPrimary}"
                        Background="Transparent"
                        BorderThickness="0"
                        HorizontalContentAlignment="Left"
                        Cursor="Hand"
                        Click="TransactionsButton_Click"
                        Margin="0,0,0,8">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" 
                                    CornerRadius="6"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Left" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="{StaticResource HoverBackground}"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter Property="Background" Value="#F59E0B"/>
                                    <Setter Property="Foreground" Value="White"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>

                <Button x:Name="ReportsButton"
                        Content="{loc:Translate Menu.Reports}" 
                        Padding="12,12" 
                        FontSize="13"
                        FontWeight="SemiBold"
                        Foreground="{StaticResource TextPrimary}"
                        Background="Transparent"
                        BorderThickness="0"
                        HorizontalContentAlignment="Left"
                        Cursor="Hand"
                        Click="ReportsButton_Click">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" 
                                    CornerRadius="6"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Left" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="{StaticResource HoverBackground}"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter Property="Background" Value="#8B5CF6"/>
                                    <Setter Property="Foreground" Value="White"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </StackPanel>

            <Separator Background="{StaticResource BorderColor}" Margin="12,0"/>

            <StackPanel Margin="12" VerticalAlignment="Bottom">
                <Button x:Name="SettingsButton"
                        Content="{loc:Translate Menu.Settings}" 
                        Padding="12,12" 
                        FontSize="13"
                        FontWeight="SemiBold"
                        Foreground="{StaticResource TextPrimary}"
                        Background="Transparent"
                        BorderThickness="0"
                        HorizontalContentAlignment="Left"
                        Cursor="Hand"
                        Click="SettingsButton_Click"
                        Margin="0,0,0,8">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" 
                                    CornerRadius="6"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Left" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="{StaticResource HoverBackground}"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter Property="Background" Value="#6366F1"/>
                                    <Setter Property="Foreground" Value="White"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>

                <Button x:Name="HelpButton"
                        Content="{loc:Translate Menu.Help}" 
                        Padding="12,12" 
                        FontSize="13"
                        FontWeight="SemiBold"
                        Foreground="{StaticResource TextPrimary}"
                        Background="Transparent"
                        BorderThickness="0"
                        HorizontalContentAlignment="Left"
                        Cursor="Hand"
                        Click="HelpButton_Click"
                        Margin="0,0,0,8">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" 
                                    CornerRadius="6"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Left" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="{StaticResource HoverBackground}"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter Property="Background" Value="#06B6D4"/>
                                    <Setter Property="Foreground" Value="White"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>

                <Button x:Name="LogoutButton"
                        Content="{loc:Translate Menu.Logout}" 
                        Padding="12,12" 
                        FontSize="13"
                        FontWeight="SemiBold"
                        Foreground="#EF4444"
                        Background="Transparent"
                        BorderThickness="0"
                        HorizontalContentAlignment="Left"
                        Cursor="Hand"
                        Click="LogoutButton_Click">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" 
                                    CornerRadius="6"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Left" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#FEE2E2"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter Property="Background" Value="#EF4444"/>
                                    <Setter Property="Foreground" Value="White"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </StackPanel>

            <Border Padding="12" BorderThickness="0,1,0,0" BorderBrush="{StaticResource BorderColor}" 
                    VerticalAlignment="Bottom" Margin="0,20,0,0">
                <StackPanel>
                    <Border Background="{StaticResource HoverBackground}" CornerRadius="50" 
                            Width="40" Height="40" HorizontalAlignment="Center" Margin="0,0,0,8">
                        <TextBlock Text="👤" FontSize="20" TextAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <TextBlock Text="{loc:Translate App.User}" 
                               FontSize="12" FontWeight="Bold" 
                               Foreground="{StaticResource TextPrimary}" TextAlignment="Center" Margin="0,0,0,8"/>
                    <TextBlock Text="{loc:Translate App.UserEmail}" 
                               FontSize="10" 
                               Foreground="{StaticResource TextSecondary}" TextAlignment="Center"/>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</UserControl>
