<Window x:Class="Finance.Views.AddTransactionWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Ajouter une Transaction"
        Height="600"
        Width="500"
        WindowStartupLocation="CenterOwner"
        Background="Transparent"
        WindowStyle="None"
        AllowsTransparency="True"
        ResizeMode="NoResize">

	<!-- Ressources -->
	<Window.Resources>
		<SolidColorBrush x:Key="PrimaryColor" Color="#2563EB"/>
		<SolidColorBrush x:Key="AccentColor" Color="#10B981"/>
		<SolidColorBrush x:Key="CardBackground" Color="#FFFFFF"/>
		<SolidColorBrush x:Key="TextPrimary" Color="#1F2937"/>
		<SolidColorBrush x:Key="TextSecondary" Color="#6B7280"/>
		<SolidColorBrush x:Key="InputBackground" Color="#F9FAFB"/>
		<SolidColorBrush x:Key="BorderColor" Color="#E5E7EB"/>

		<!-- Style utilitaire pour crÃ©er un "card input" avec coins arrondis via Border -->
		<Style x:Key="RoundedInputWrapper" TargetType="Border">
			<Setter Property="CornerRadius" Value="6"/>
			<Setter Property="Background" Value="{StaticResource InputBackground}"/>
			<Setter Property="BorderBrush" Value="{StaticResource BorderColor}"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="Padding" Value="0"/>
		</Style>

		<!-- Marges verticales uniformes pour les blocs -->
		<Style x:Key="BlockStack" TargetType="StackPanel">
			<Setter Property="Margin" Value="0,0,0,18"/>
		</Style>
	</Window.Resources>

	<Border Background="{StaticResource CardBackground}" CornerRadius="12" Padding="0" >
		<StackPanel Margin="30">
			<!-- En-tÃªte -->
			<TextBlock Text="Nouvelle Transaction"
                       FontSize="24"
                       FontWeight="Bold"
                       Foreground="{StaticResource TextPrimary}"
                       Margin="0,0,0,5"/>
			<TextBlock Text="Remplissez les informations ci-dessous"
                       FontSize="12"
                       Foreground="{StaticResource TextSecondary}"
                       Margin="0,0,0,25"/>

			<ScrollViewer VerticalScrollBarVisibility="Auto" Height="400">
				<StackPanel>

					<!-- Nom -->
					<StackPanel Style="{StaticResource BlockStack}">
						<TextBlock Text="Nom de la Transaction"
                                   FontSize="12" FontWeight="Bold"
                                   Foreground="{StaticResource TextPrimary}"
                                   Margin="0,0,0,6"/>
						<Border Style="{StaticResource RoundedInputWrapper}">
							<TextBox x:Name="NameTextBox"
                                     Padding="12,10"
                                     FontSize="13"
                                     BorderThickness="0"
                                     Background="{x:Null}"/>
						</Border>
					</StackPanel>

					<!-- Description -->
					<StackPanel Style="{StaticResource BlockStack}">
						<TextBlock Text="Description"
                                   FontSize="12" FontWeight="Bold"
                                   Foreground="{StaticResource TextPrimary}"
                                   Margin="0,0,0,6"/>
						<Border Style="{StaticResource RoundedInputWrapper}">
							<TextBox x:Name="DescriptionTextBox"
                                     Padding="12,10"
                                     FontSize="13"
                                     BorderThickness="0"
                                     Background="{x:Null}"
                                     Height="90"
                                     TextWrapping="Wrap"
                                     AcceptsReturn="True"
                                     VerticalScrollBarVisibility="Auto"/>
						</Border>
					</StackPanel>

					<!-- Type de Transaction -->
					<StackPanel Style="{StaticResource BlockStack}">
						<TextBlock Text="Type de Transaction"
                                   FontSize="12" FontWeight="Bold"
                                   Foreground="{StaticResource TextPrimary}"
                                   Margin="0,0,0,10"/>
						<StackPanel Orientation="Horizontal">
							<!-- Revenu -->
							<Border Background="{StaticResource InputBackground}"
                                    CornerRadius="6"
                                    Padding="12,8"
                                    BorderThickness="2"
                                    BorderBrush="{StaticResource PrimaryColor}"
                                    Cursor="Hand"
                                    Margin="0,0,12,0"
                                    MouseLeftButtonDown="SelectIncome">
								<RadioButton x:Name="IncomeRadioButton"
                                             Content="ðŸ’° Revenu"
                                             GroupName="TransactionType"
                                             IsChecked="True"
                                             Foreground="{StaticResource TextPrimary}"
                                             Cursor="Hand"
                                             Background="{x:Null}"
                                             BorderThickness="0"/>
							</Border>

							<!-- DÃ©pense -->
							<Border Background="{StaticResource InputBackground}"
                                    CornerRadius="6"
                                    Padding="12,8"
                                    BorderThickness="2"
                                    BorderBrush="{StaticResource BorderColor}"
                                    Cursor="Hand"
                                    MouseLeftButtonDown="SelectExpense">
								<RadioButton x:Name="ExpenseRadioButton"
                                             Content="ðŸ’¸ DÃ©pense"
                                             GroupName="TransactionType"
                                             Foreground="{StaticResource TextPrimary}"
                                             Cursor="Hand"
                                             Background="{x:Null}"
                                             BorderThickness="0"/>
							</Border>
						</StackPanel>
					</StackPanel>

					<!-- Montant et Devise -->
					<Grid Margin="0,0,0,18">
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="*"/>
							<ColumnDefinition Width="140"/>
						</Grid.ColumnDefinitions>

						<!-- Montant -->
						<StackPanel Grid.Column="0" Margin="0,0,12,0">
							<TextBlock Text="Montant"
                                       FontSize="12" FontWeight="Bold"
                                       Foreground="{StaticResource TextPrimary}"
                                       Margin="0,0,0,6"/>
							<Border Style="{StaticResource RoundedInputWrapper}">
								<TextBox x:Name="AmountTextBox"
                                         Padding="12,10"
                                         FontSize="13"
                                         BorderThickness="0"
                                         Background="{x:Null}"
                                         PreviewTextInput="AmountTextBox_PreviewTextInput"/>
							</Border>
						</StackPanel>

						<!-- Devise -->
						<StackPanel Grid.Column="1">
							<TextBlock Text="Devise"
                                       FontSize="12" FontWeight="Bold"
                                       Foreground="{StaticResource TextPrimary}"
                                       Margin="0,0,0,6"/>
							<Border Style="{StaticResource RoundedInputWrapper}">
								<ComboBox x:Name="CurrencyComboBox"
                                          Padding="6,4"
                                          FontSize="13"
                                          Background="{x:Null}"
                                          BorderThickness="0"
                                          SelectedIndex="0"
                                          SelectedValuePath="Tag"
                                          DisplayMemberPath="Content">
									<ComboBoxItem Content="â‚ª Shekel" Tag="ILS"/>
									<ComboBoxItem Content="$ Dollar" Tag="USD"/>
									<ComboBoxItem Content="â‚¬ Euro" Tag="EUR"/>
								</ComboBox>
							</Border>
						</StackPanel>
					</Grid>

					<!-- Date -->
					<StackPanel Style="{StaticResource BlockStack}">
						<TextBlock Text="Date"
                                   FontSize="12" FontWeight="Bold"
                                   Foreground="{StaticResource TextPrimary}"
                                   Margin="0,0,0,6"/>
						<Border Style="{StaticResource RoundedInputWrapper}">
							<DatePicker x:Name="DatePicker"
                                        FontSize="13"
                                        Padding="6,4"
                                        Background="{x:Null}"
                                        BorderThickness="0"/>
						</Border>
					</StackPanel>

					<!-- Label -->
					<StackPanel Style="{StaticResource BlockStack}">
						<TextBlock Text="CatÃ©gorie (Label)"
                                   FontSize="12" FontWeight="Bold"
                                   Foreground="{StaticResource TextPrimary}"
                                   Margin="0,0,0,6"/>
						<Border Style="{StaticResource RoundedInputWrapper}">
							<TextBox x:Name="LabelTextBox"
                                     Padding="12,10"
                                     FontSize="13"
                                     BorderThickness="0"
                                     Background="{x:Null}"/>
						</Border>
					</StackPanel>

					<!-- Fichiers -->
					<Button Content="ðŸ“Ž Ajouter des Fichiers"
                            Padding="12,10"
                            FontSize="13"
                            Background="#F3F4F6"
                            Foreground="{StaticResource TextPrimary}"
                            BorderThickness="1"
                            BorderBrush="{StaticResource BorderColor}"
                            Cursor="Hand"
                            Click="AddFilesButton_Click"/>
				</StackPanel>
			</ScrollViewer>

			<!-- Boutons d'action -->
			<StackPanel Orientation="Horizontal" Margin="0,25,0,0" HorizontalAlignment="Right">
				<Button Content="Annuler"
                        Padding="16,10"
                        FontSize="13"
                        Background="#F3F4F6"
                        Foreground="{StaticResource TextPrimary}"
                        BorderThickness="0"
                        Width="100"
                        Click="CancelButton_Click"
                        Margin="0,0,12,0"/>
				<Button Content="Sauvegarder"
                        Padding="16,10"
                        FontSize="13"
                        FontWeight="Bold"
                        Background="{StaticResource PrimaryColor}"
                        Foreground="White"
                        BorderThickness="0"
                        Width="120"
                        Click="SaveButton_Click"/>
			</StackPanel>
		</StackPanel>
	</Border>
</Window>
